<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE policymap [
<!ELEMENT policymap (policy)*>
<!ATTLIST policymap xmlns CDATA #FIXED "">
<!ELEMENT policy EMPTY>
<!ATTLIST policy xmlns CDATA #FIXED "">
<!ATTLIST policy domain NMTOKEN #REQUIRED>
<!ATTLIST policy name NMTOKEN #IMPLIED>
<!ATTLIST policy pattern CDATA #IMPLIED>
<!ATTLIST policy rights NMTOKEN #IMPLIED>
<!ATTLIST policy stealth NMTOKEN #IMPLIED>
<!ATTLIST policy value CDATA #IMPLIED>
]>
<!-- 
  Maximum Permissions Policy for ImageMagick
  WARNING: This configuration removes security restrictions and is not recommended for production environments. 
           Use only in secure and controlled environments.
-->

<policymap>
  <!-- Allow all undefined permissions -->
  <policy domain="Undefined" rights="all"/>

  <!-- Set resource limits to maximum -->
  <policy domain="resource" name="memory" value="unlimited"/>
  <policy domain="resource" name="map" value="unlimited"/>
  <policy domain="resource" name="area" value="unlimited"/>
  <policy domain="resource" name="disk" value="unlimited"/>
  <policy domain="resource" name="thread" value="unlimited"/>
  <policy domain="resource" name="time" value="unlimited"/>
  <policy domain="resource" name="width" value="unlimited"/>
  <policy domain="resource" name="height" value="unlimited"/>
  <policy domain="resource" name="list-length" value="unlimited"/>
  <policy domain="resource" name="file" value="unlimited"/>
  <policy domain="resource" name="temporary-path" value="/tmp"/>

  <!-- Allow all delegate execution -->
  <policy domain="delegate" rights="all" pattern="*"/>

  <!-- Allow all filters -->
  <policy domain="filter" rights="all" pattern="*"/>

  <!-- Allow all paths -->
  <policy domain="path" rights="read|write|execute" pattern="*"/>

  <!-- Allow all coders -->
  <policy domain="coder" rights="read|write" pattern="*"/>

  <!-- Allow all modules -->
  <policy domain="module" rights="read|write" pattern="*"/>

  <!-- Allow all system operations -->
  <policy domain="system" name="max-memory-request" value="unlimited"/>
  <policy domain="system" name="shred" value="0"/>
  <policy domain="system" name="memory-map" value="all"/>
</policymap>
